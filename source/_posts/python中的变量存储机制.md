---
title: python中的变量存储机制
date: 2017-11-17 17:06:42
tags: python基础
---

定义变量的目的：简单来说，变量是为了存储程序运算过程中的一些中间结果，为了方便日后调用。

# 变量命名规则
1. 要具有描述性
2. 变量名只能_,数字，字母组成，不可以是空格或特殊字符(#?<.，￥$*!~)
3. 不能以中文为变量名
4. 不能以数字开头
5. 保留字符是不能被使用
	
# 声明变量

1.定义一个整数变量:

	a = 1
2.定义一个字符串变量:

	t_007 = 'T007'
3.定义一个布尔值：

	Answer = True

在Python中，等号=是赋值语句，可以把任意数据类型赋值给变量，同一个变量可以反复赋值，而且可以是不同类型的变量，例如：

	a = 123 # a是整数
	print(a)
	a = 'ABC' # a变为字符串
	print(a)
这种变量本身类型不固定的语言称之为**动态语言**，与之对应的是静态语言。静态语言在定义变量时必须指定变量类型，如果赋值的时候类型不匹配，就会报错。例如Java是静态语言，赋值语句如下：

	int a = 123; //a是整数类型变量
	a = "ABC"; //错误：不能把字符串赋给整型变量

和静态语言相比，动态语言更灵活。请不要把赋值语句的等号等同于数学的等号。比如下面的代码：

	x = 10
	x = x + 2

如果从数学上理解x = x + 2那无论如何是不成立的，在程序中，赋值语句先计算右侧的表达式x + 2，得到结果12，再赋给变量x。由于x之前的值是10，重新赋值后，x的值变成12。

# 存储机制
声明：**a = 'ABC'**时，Python解释器干了两件事情：

1. 在内存中创建了一个'ABC'的字符串；
2. 在内存中创建了一个名为a的变量，并把它指向'ABC'。

也可以把一个变量a赋值给另一个变量b，这个操作实际上**是把变量b指向变量a所指向的数据**，例如下面的代码：

	a = 'ABC'
	b = a
	a = 'XYZ'
	print(b)

最后一行打印出变量b的内容到底是'ABC'呢还是'XYZ'？如果从数学意义上理解，就会错误地得出b和a相同，也应该是'XYZ'，但实际上b的值是'ABC'，让我们一行一行地执行代码，就可以看到到底发生了什么事：

1.执行a = 'ABC'，解释器创建了字符串'ABC'和变量a，并把a指向'ABC'：
![](https://i.imgur.com/ldl7FxP.png)

2.执行b = a，解释器创建了变量b，并把b指向a指向的字符串'ABC'：
![](https://i.imgur.com/JZ6sixs.png)

3.执行a = 'XYZ'，解释器创建了字符串'XYZ'，并把a的指向改为'XYZ'，但b并没有更改：
![](https://i.imgur.com/VEUY64z.png)

所以，最后打印变量b的结果自然是'ABC'了。

# 常量

所谓常量就是不能变的变量，比如常用的数学常数π就是一个常量。在Python中，通常用**全部大写的变量名表示常量**：

	PI = 3.14159265359

但事实上PI仍然是一个变量，Python根本没有任何机制保证PI不会被改变，所以，用全部大写的变量名表示常量只是一个习惯上的用法，如果你一定要改变变量PI的值，也没人能拦住你。

# 除法
最后解释一下整数的除法为什么也是精确的。在Python中，有两种除法，一种除法是/：

	>>> 10 / 3
	3.3333333333333335 #这是python3中的结果python2中值为3

**/** python3中除法计算结果是浮点数，即使是两个整数恰好整除，结果也是浮点数：

	>>> 9 / 3
	3.0

还有一种除法是 **//** ，称为地板除，两个整数的除法仍然是整数：

	>>> 10 // 3
	3

你没有看错，整数的地板除 **//** 永远是整数，即使除不尽。要做精确的除法，使用 **/** 就可以。

因为 **//** 除法只取结果的整数部分，所以Python还提供一个余数运算，可以得到两个整数相除的余数：

	>>> 10 % 3
	1

无论整数做 **//** 除法还是取余数 **%** ，结果永远是整数，所以，整数运算结果永远是精确的。